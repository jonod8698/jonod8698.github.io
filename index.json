[{"categories":[],"content":"Domainjoin","date":"2022-01-14","objectID":"/posts/domainjoin/","tags":[],"title":"Domainjoin","uri":"/posts/domainjoin/"},{"categories":[],"content":"Write-Host \"Please enter your desired computer name: [Default $env:computername]:\" $computername = Read-Host $renamecomputer = $true if ($computername -eq \"\" -or $computername -eq $env:computername) { $computername = $env:computername; $renamecomputer = $false } $ou = \"OU=Computers,OU=Domain Controllers,DC=domain,DC=local\" $credentials = New-Object System.Management.Automation.PsCredential(\"yourdomain\\useraccountwithjoinpermissions\", (ConvertTo-SecureString \"useraccountpassword\" -AsPlainText -Force)) Write-Host \"Adding $computername to the domain\" Add-Computer -DomainName \"your.domain.here\" -Credential $credentials -OUPath $ou if ($renamecomputer -eq $true) { Rename-Computer -NewName $computername -DomainCredential $credentials -Force } Restart-Computer ","date":"2022-01-14","objectID":"/posts/domainjoin/:0:0","tags":[],"title":"Domainjoin","uri":"/posts/domainjoin/"},{"categories":[],"content":"MFA1","date":"2022-01-12","objectID":"/posts/mfa1/","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"1. Introduction If your users have Azure AD P1, Microsoft strongly recommends switching from Per-User MFA to Condtional Access for several reasons: Improved User Experience Granular Access Control Delegated Control to Helpdesk ","date":"2022-01-12","objectID":"/posts/mfa1/:1:0","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"2. Why use Conditional Access to apply MFA? ","date":"2022-01-12","objectID":"/posts/mfa1/:2:0","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"2.1 Improved User Experience Conditional Access allows for less MFA prompts https://dirteam.com/sander/2020/06/17/todo-move-from-the-allow-users-to-remember-multi-factor-authentication-on-devices-they-trust-option-to-conditional-access/ https://docs.microsoft.com/en-us/azure/active-directory/authentication/concepts-azure-multi-factor-authentication-prompts-session-lifetime ","date":"2022-01-12","objectID":"/posts/mfa1/:2:1","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"2.2 Granular Access Control Per-User MFA can be turned on or off with no granularity outside of IP range exclusions. Enabling MFA via CA allows for granular control of MFA prompts based on Risk (P2 license), Device status, application, and more. ","date":"2022-01-12","objectID":"/posts/mfa1/:2:2","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"2.3 Delegated Control to Helpdesk Per-User MFA is the legacy PhoneFactor portal. It does not allow for Azure AD RBAC delegation to control MFA through the GUI. ","date":"2022-01-12","objectID":"/posts/mfa1/:2:3","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"3. Test Scenarios Per User MFA and CA policy applied Per User MFA switch from Enforced to Enabled. switch from Enabled to Disabled. Conditional Access MFA Self-Service Password Reset Behaviour for end users. New User Force MFA Force Password Change ","date":"2022-01-12","objectID":"/posts/mfa1/:3:0","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"4. Strategy Corporate owned Windows 10 devices: Enrolled in Intune and compliant Personal owned smartphones (BYOD): Must use an approved client app because MAM policies are deployed with Intune Web browser access from unmanaged devices: MFA is enforced, additionally app enforced restrictions prevent file downloads Guest users are not affected by any rules whereas files shared with them are monitored with cloud app security ","date":"2022-01-12","objectID":"/posts/mfa1/:4:0","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"5. Scripts ","date":"2022-01-12","objectID":"/posts/mfa1/:5:0","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"5.1 Per User MFA Enable/Disable Install Instructions #Requires -Modules MSOnline Connect-MsolService Get-MsolUser | Select-Object UserPrincipalName,StrongAuthenticationMethods,StrongAuthenticationRequirements | Format-Table -AutoSize Links https://www.adaxes.com/script-repository/status-of-users-mfa-in-microsoft-365-s601.htm https://www.adaxes.com/script-repository/check-multi-factor-authentication-status-for-a-user-in-office-365-s556.htm https://www.adaxes.com/script-repository/enabledisable-multi-factor-authentication-for-a-user-in-office-365-s544.htm ","date":"2022-01-12","objectID":"/posts/mfa1/:5:1","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"5.2 Conditional Access MFA ","date":"2022-01-12","objectID":"/posts/mfa1/:5:2","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"5.3 Modify Authentication Methods 5.3.1 Re-register MFA 5.3.2 Revoke MFA 5.3.3 Add Phone Number ","date":"2022-01-12","objectID":"/posts/mfa1/:5:3","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":[],"content":"5.4 Module to export MFA status to CSV See LazyAdmin 5.4.1 Export MFA status to CSV #Requires -Modules MSOnline Connect-MsolService .\\MFAStatus.ps1 | Export-CSV c:\\temp\\UserMFAStatus.csv -noTypeInformation 5.4.3 Filter for users by attributes #Requires -Modules MSOnline Connect-MsolService ## FAQ ### Can Per-user MFA and Conditional MFA be used together? ### Converting from Per-User MFA to Conditional Access MFA","date":"2022-01-12","objectID":"/posts/mfa1/:5:4","tags":["AzureAD","Conditional Access","MFA"],"title":"Multi-Factor Authentication via Conditional Access","uri":"/posts/mfa1/"},{"categories":["other"],"content":"Hugo","date":"2021-12-27","objectID":"/posts/hugo/","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Like many others, I’m sick of using Wordpress. I’ve finally decided to switch to a static site using Hugo. ","date":"2021-12-27","objectID":"/posts/hugo/:0:0","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Hugo Setup ","date":"2021-12-27","objectID":"/posts/hugo/:1:0","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Install Hugo I’m using the CodeIT Hugo theme. This requires Hugo Extended. Installation via Chocolatey choco install hugo-extended ","date":"2021-12-27","objectID":"/posts/hugo/:1:1","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Create a new site Hugo will create a new site named \u003cmy-site\u003e hugo new site \u003cmy-site\u003e ","date":"2021-12-27","objectID":"/posts/hugo/:1:2","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Install a theme I like the simplicity and aesthetics of the CodeIT theme. Create a git repository and make the CodeIT repo a submodule of the side directory. cd \u003cmy-site\u003e git init git submodule add https://github.com/sunt-programator/CodeIT.git themes/CodeIT ","date":"2021-12-27","objectID":"/posts/hugo/:1:3","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Configure the site In the root of the site, Hugo will create a config.toml file. Here is an example: contentDir = \"content\" layoutDir = \"layouts\" publishDir = \"public\" buildDrafts = false baseURL = \"https://yoursite.example.com/\" canonifyURLs = true title = \"My Hugo Site\" [taxonomies] category = \"categories\" tag = \"tags\" [params] subtitle = \"Hugo is Absurdly Fast!\" author = \"John Doe\" ","date":"2021-12-27","objectID":"/posts/hugo/:1:4","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Create a new post Hugo will create a new post in the content\\posts directory. All posts are formatted in Markdown. hugo new posts/my-post.md ","date":"2021-12-27","objectID":"/posts/hugo/:1:5","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Run Local Dev Server hugo serve ","date":"2021-12-27","objectID":"/posts/hugo/:1:6","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Deploy to Github Pages Follow the instructions here to create a new Github Pages site. ","date":"2021-12-27","objectID":"/posts/hugo/:2:0","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"},{"categories":["other"],"content":"Automate Deployment with Github Actions Follow the instructions here to set up a Github Action to build and deploy Hugo sites. ","date":"2021-12-27","objectID":"/posts/hugo/:3:0","tags":["knowledge-management","static-site"],"title":"Hugo","uri":"/posts/hugo/"}]